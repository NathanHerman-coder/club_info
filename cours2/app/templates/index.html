{% extends 'base.html' %}

{% block title %}Produits - Mini Shop{% endblock %}

{% block content %}
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-semibold">Produits</h1>
  </div>

  {% if products %}
    <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
      {% for p in products %}
        <article class="bg-white rounded-lg shadow p-4 flex flex-col">
          <div class="flex-1">
            <h3 class="text-lg font-medium text-gray-800"><a href="{{ url_for('main.product_detail', product_id=p.id) }}" class="hover:text-indigo-600">{{ p.name }}</a></h3>
            <p class="mt-2 text-sm text-gray-600">{{ p.description[:140] }}{% if p.description|length > 140 %}...{% endif %}</p>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <div class="text-lg font-semibold text-gray-900">{{ p.price }} â‚¬</div>
            <a href="{{ url_for('main.product_detail', product_id=p.id) }}" class="inline-block bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700">Voir</a>
          </div>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-600">Aucun produit disponible.</p>
  {% endif %}
{% endblock %}
